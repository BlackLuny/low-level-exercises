<p><em>These are questions I asked myself when I was trying to learn these concepts</em></p>

<h4 id="1-what-are-pcr-prcb-and-why-do-we-have-them">1.	What are PCR, PRCB and why do we have them?</h4>

<p>PCR (Process Control Region) is a per-processor data structure used in the
kernel that contains critical information about it. <strong>Inside of it</strong>
there’s PRCB (Process Region Control Block) which contains other stuff
about it (both are undocumented). In order to access the PCR FS/GS are used
(x86/x64 respectively).</p>

<h4 id="2-how-does-an-interrupt-work-">2.	How does an interrupt work ?</h4>

<p>The operating system uses data structures (IDT) to know which interrupts 
are handled and how.</p>

<h4 id="3-what-are-sysenter--sysexit-and-why-do-we-need-them">3.	What are SYSENTER / SYSEXIT and why do we need them</h4>

<p>These two instructions are used to implement syscalls. (The reason we have
syscalls in the first place is beacuse user space <em>can’t</em> directly access
hardware / physical mem addresses.)</p>

<h4 id="4-how-are-syscalls-information-data-storedretrieved">4.	How are syscalls information data stored/retrieved</h4>

<p>Windows distinguishes GUI syscalls from non-GUI ones: W32pServiceTable and
KiServiceTable. They have a base and a limit.</p>

<h4 id="5-in-which-way-can-a-system-call-be-implemented-">5.	In which way can a system call be implemented ?</h4>

<p>Syscalls can be implemented by usign either having a dedicated int code
(0x2e) or a trap instructions (SYSENTER/SYSEXIT).</p>

<h4 id="6-explain-what-an-irql-is">6.	Explain what an IRQL is</h4>

<p>Interrupt Request Level are numbers associated with interrupts and describe
the “priority” of the int. IRQL is an unsigned char and is per-processor:
interrupts are handled only if they number is equal or higher than the
current IRQL.</p>

<p>doubt 1: How does the CPU know when to increase/decrease IRQL ? Does it have a
queue or something ?</p>

<h4 id="7-what-are-mdlswhy-do-we-need-them-and-what-is-their-relationship-w-the-mmu-">7.	What are MDLs,why do we need them and what is their relationship w/ the MMU ?</h4>

<h4 id="8-explain-execution-contests">8.	Explain execution contests</h4>

<p>Unlike Linux, Windows distinguishes threads from processess (every process
has at least 1 thread). A contest is a collection of all the information
relevant to the process.</p>

<p>doubt 1: Are they ‘relevant’ for the reverse engineers?</p>

<h4 id="9-explain-what-a-work-item-is">9.	Explain what a work item is</h4>

<p>Worker threads are kernel mode threads executed on behalf of the caller.</p>
